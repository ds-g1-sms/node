# ==============================================================================
# Example Environment Configuration for Distributed Chat System
# ==============================================================================
# Copy this file to .env.prod and customize for your production environment
#
# IMPORTANT: Do not commit .env.prod to version control!
#
# ==============================================================================

# ------------------------------------------------------------------------------
# Docker Registry Configuration
# ------------------------------------------------------------------------------
# Container registry where images are stored
REGISTRY=ghcr.io/ds-g1-sms

# Image version/tag to deploy
VERSION=latest

# ------------------------------------------------------------------------------
# Node Port Configuration
# ------------------------------------------------------------------------------
# WebSocket ports (for client connections)
NODE1_WS_PORT=8081
NODE2_WS_PORT=8082
NODE3_WS_PORT=8083

# XML-RPC ports (for inter-node communication)
NODE1_XMLRPC_PORT=9091
NODE2_XMLRPC_PORT=9092
NODE3_XMLRPC_PORT=9093

# ------------------------------------------------------------------------------
# Logging Configuration
# ------------------------------------------------------------------------------
# Log level: DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_LEVEL=INFO

# Log format
LOG_FORMAT=json

# ------------------------------------------------------------------------------
# Application Configuration
# ------------------------------------------------------------------------------
# Heartbeat interval (seconds)
HEARTBEAT_INTERVAL=30

# Heartbeat timeout (seconds)
HEARTBEAT_TIMEOUT=10

# Inactivity timeout (seconds)
INACTIVITY_TIMEOUT=300

# Cleanup interval (seconds)
CLEANUP_INTERVAL=60

# ------------------------------------------------------------------------------
# Resource Configuration
# ------------------------------------------------------------------------------
# CPU limits (number of cores)
CPU_LIMIT=1.0
CPU_RESERVATION=0.25

# Memory limits (in megabytes)
MEMORY_LIMIT=512M
MEMORY_RESERVATION=256M

# ------------------------------------------------------------------------------
# Network Configuration
# ------------------------------------------------------------------------------
# Overlay network subnet
NETWORK_SUBNET=10.10.0.0/16

# ------------------------------------------------------------------------------
# Monitoring Configuration (Optional)
# ------------------------------------------------------------------------------
# Enable Prometheus metrics
ENABLE_METRICS=false

# Metrics port
METRICS_PORT=9100

# Enable distributed tracing
ENABLE_TRACING=false

# Tracing endpoint
TRACING_ENDPOINT=http://jaeger:14268/api/traces

# ------------------------------------------------------------------------------
# Security Configuration
# ------------------------------------------------------------------------------
# Enable TLS for inter-node communication (future)
ENABLE_TLS=false

# TLS certificate path
TLS_CERT_PATH=/etc/ssl/certs/node.crt

# TLS key path
TLS_KEY_PATH=/etc/ssl/private/node.key

# ------------------------------------------------------------------------------
# Deployment Configuration
# ------------------------------------------------------------------------------
# Update parallelism (number of services to update simultaneously)
UPDATE_PARALLELISM=1

# Update delay (seconds between updates)
UPDATE_DELAY=10s

# Rollback on failure
UPDATE_FAILURE_ACTION=rollback

# Health check interval
HEALTH_CHECK_INTERVAL=30s

# Health check timeout
HEALTH_CHECK_TIMEOUT=10s

# Health check retries
HEALTH_CHECK_RETRIES=3

# Health check start period
HEALTH_CHECK_START_PERIOD=40s

# ------------------------------------------------------------------------------
# Machine/Node Configuration
# ------------------------------------------------------------------------------
# Hostnames or IP addresses of machines
MACHINE1_HOST=192.168.1.10
MACHINE2_HOST=192.168.1.11
MACHINE3_HOST=192.168.1.12

# Docker Swarm manager address
SWARM_MANAGER=192.168.1.10

# ------------------------------------------------------------------------------
# Development/Testing Configuration
# ------------------------------------------------------------------------------
# Enable debug mode
DEBUG_MODE=false

# Enable verbose logging
VERBOSE_LOGGING=false

# Test mode (disables certain production features)
TEST_MODE=false
